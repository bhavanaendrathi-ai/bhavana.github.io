<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Todo</title>

    <style>

        *{
        margin:0;
        padding:0;
        box-sizing:border-box;
        }

        body, html{
        background-color: bisque;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto;
        font-size:30px;
        text-align:center;
        }

        .todolist{
        margin:50px auto;
        width:90%;
        max-width:500px;
        }

        #todos{
        width:fit-content;
        margin:20px auto;
        text-align:left;
        }

        ol{
        width:100%;
        margin:auto;
        padding-left: 0px;
        list-style-type:none;
        }

        li{
        font-size:20px;
        margin:10px 0;
        display:flex;           
        align-items:center;      
        gap:10px;
        }

        input{
        padding:10px;
        font-size:15px;
        border-radius:8px;
        margin:10px;
        width:70%;
        }

        button{
        padding:10px;
        font-size:15px;
        border-radius:8px;
        margin:5px;
        cursor:pointer;
        background:#df8484;
        color:white;
        font-weight:700;
        border:none;
        }

        button:hover{
        background:#df8484c7;
        transform:scale(1.05);
        }

        .done{
        text-decoration:line-through;
        opacity:0.6;
        }

    </style>

</head>
<body>
    <div class="todolist">
        <h3> To-Do List </h3>
        <input type="text" placeholder="enter your task" id="taskInput">
        <button onclick="addTask()">Add Task</button>
        <ol id="todos"></ol>
    </div>

    <script>
            let tasks = [];
            function addTask(){
            const input = document.getElementById("taskInput");

            if(input.value===""){
            alert("Enter task");
            return;
            }

            tasks.push({text: input.value,done:false});
            saveTasks();
            renderTasks();
            input.value="";
            }

            function renderTasks(){
            const list=document.getElementById("todos");
            list.innerHTML="";

            tasks.forEach(function(task,index){
            const li=document.createElement("li");
            const checkbox=document.createElement("input");
            checkbox.type="checkbox";
            checkbox.checked=task.done;
            checkbox.onclick=function(){
            tasks[index].done=checkbox.checked;
            saveTasks();
            renderTasks();
        }
            const span=document.createElement("span");
            span.innerText=task.text;
            if(task.done){
            span.classList.add("done");
            }

            const edit=document.createElement("button");
            edit.innerText="Edit";
            edit.onclick=function(){
            const newText=prompt("Edit task",task.text);
                if(newText!==null){
                tasks[index].text=newText;
                saveTasks();
                renderTasks();
                }
            }
            const del=document.createElement("button");
            del.innerText="Delete";
            del.onclick=function(){
            tasks.splice(index,1);
            saveTasks();
            renderTasks();
            }
                li.appendChild(checkbox);
                li.appendChild(span);
                li.appendChild(edit);
                li.appendChild(del);
                list.appendChild(li);
                });
            }
            function saveTasks(){
                localStorage.setItem("tasks",JSON.stringify(tasks));
            }

            function showTasks(){
                const saved=localStorage.getItem("tasks");
                if(saved){
                    tasks=JSON.parse(saved);
                    renderTasks();
                }
            }
            showTasks();

        </script>


</body>
</html>